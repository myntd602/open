<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chosen Palette: Calm Harmony (Background: #F8F9FA, Text: #343A40, Primary: #0056b3, Accent: #007BFF) -->
    <!-- Application Structure Plan: The SPA is designed as an interactive strategic dashboard. It follows a narrative flow: 1. Header & Overview: High-level summary with key metrics and budget allocation. 2. Market Context: A brief analysis of competitors and opportunities. 3. 3-Month Interactive Action Plan: The core of the app, allowing users to select a month (via tabs) to dynamically update goals, budget charts, and key activities for that specific period. This structure transforms static plans into an explorable tool. 4. Detailed Campaign Explorer: An interactive table allowing users to filter detailed strategies by platform (Google Search, Facebook, etc.), making granular data from the reports easily accessible. 5. Dealer Support: A clear visual summary of partner initiatives. This architecture prioritizes user interaction and a task-oriented exploration of the strategy. -->
    <!-- Visualization & Content Choices: Overall Budget -> Inform -> Doughnut Chart (Chart.js) -> Shows simple parts-of-a-whole. Competitor Comparison -> Compare -> Bar Chart (Chart.js) -> Easy comparison of entities. Monthly Budget -> Compare/Change -> Stacked Bar Chart (Chart.js) -> Shows composition and changes dynamically with month selection. Action Plan -> Organize -> Interactive Tabs (JS) -> Allows users to navigate complex information easily. Campaign Details -> Organize/Inform -> Interactive Filtered Table (JS) -> Presents detailed data in a digestible, user-controlled format. Dealer Support Flow -> Organize -> HTML/CSS Diagram -> Simple, clear visualization without complex libraries. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <title>Oceanlite - Dashboard Chi·∫øn L∆∞·ª£c TƒÉng Tr∆∞·ªüng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Be Vietnam Pro', sans-serif; background-color: #F8F9FA; color: #343A40; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 350px; max-height: 400px; }
        @media (max-width: 768px) { .chart-container { height: 300px; } }
        .nav-link { transition: all 0.2s ease-in-out; }
        .nav-link.active, .nav-link:hover { color: #0056b3; border-bottom-color: #0056b3; }
        .tab-button { transition: all 0.2s ease-in-out; }
        .tab-button.active { background-color: #0056b3; color: white; }
        .filter-button { transition: all 0.2s ease-in-out; }
        .filter-button.active { background-color: #E9ECEF; border-color: #0056b3; color: #0056b3; }
        .details-card { display: none; }
        .details-card.active { display: block; }
    </style>
</head>
<body class="antialiased">

    <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-[#0056b3]">Dashboard Chi·∫øn L∆∞·ª£c TƒÉng Tr∆∞·ªüng To√†n Di·ªán</h1>
            <p class="mt-4 text-lg text-gray-600">T·ªïng h·ª£p v√† tr·ª±c quan h√≥a k·∫ø ho·∫°ch media 3 th√°ng cho Oceanlite.</p>
        </header>

        <nav class="sticky top-0 bg-[#F8F9FA]/80 backdrop-blur-md z-20 mb-12 border-b border-gray-200">
            <div class="flex justify-center items-center gap-x-6 sm:gap-x-8 text-sm sm:text-base font-semibold text-gray-500">
                <a href="#overview" class="nav-link border-b-2 border-transparent py-3">T·ªïng quan</a>
                <a href="#plan" class="nav-link border-b-2 border-transparent py-3">K·∫ø ho·∫°ch</a>
                <a href="#details" class="nav-link border-b-2 border-transparent py-3">Chi ti·∫øt</a>
                <a href="#support" class="nav-link border-b-2 border-transparent py-3">H·ªó tr·ª£</a>
            </div>
        </nav>

        <main class="space-y-16">

            <section id="overview" class="scroll-mt-24">
                <h2 class="text-3xl font-bold text-center mb-8 text-[#0056b3]">1. T·ªïng quan Chi·∫øn l∆∞·ª£c</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div class="bg-white p-6 rounded-xl shadow-md">
                        <h3 class="font-bold text-xl mb-4 text-center">Ph√¢n b·ªï Ng√¢n s√°ch T·ªïng (30 Tri·ªáu VNƒê)</h3>
                        <div class="chart-container h-[300px]">
                            <canvas id="overallBudgetChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md">
                        <h3 class="font-bold text-xl mb-4 text-center">ƒê·ªëi th·ªß & M·ª•c ti√™u</h3>
                        <p class="text-sm text-center text-gray-500 mb-4">So s√°nh l∆∞·ª£ng ng∆∞·ªùi theo d√µi tr√™n c√°c k√™nh ch√≠nh v·ªõi ƒë·ªëi th·ªß Kosmos ƒë·ªÉ th·∫•y r√µ th√°ch th·ª©c v√† c∆° h·ªôi.</p>
                        <div class="chart-container h-[300px]">
                            <canvas id="competitorChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            
            <hr class="my-16 border-gray-200">

            <section id="plan" class="scroll-mt-24">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-[#0056b3]">2. K·∫ø ho·∫°ch H√†nh ƒë·ªông T∆∞∆°ng t√°c</h2>
                    <p class="mt-2 text-gray-600">Ch·ªçn m·ªôt th√°ng ƒë·ªÉ xem m·ª•c ti√™u, ph√¢n b·ªï ng√¢n s√°ch v√† ho·∫°t ƒë·ªông ch√≠nh.</p>
                </div>
                
                <div class="flex justify-center gap-2 mb-8 p-2 bg-gray-200 rounded-full w-fit mx-auto">
                    <button id="btn-month-0" class="tab-button text-sm md:text-base font-semibold py-2 px-6 rounded-full">Th√°ng 1</button>
                    <button id="btn-month-1" class="tab-button text-sm md:text-base font-semibold py-2 px-6 rounded-full">Th√°ng 2</button>
                    <button id="btn-month-2" class="tab-button text-sm md:text-base font-semibold py-2 px-6 rounded-full">Th√°ng 3</button>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                        <div>
                            <h3 class="font-bold text-xl mb-1">M·ª•c ti√™u Th√°ng: <span id="monthly-goal" class="text-[#007BFF]"></span></h3>
                            <p id="monthly-goal-desc" class="text-gray-600 mb-6"></p>

                            <h3 class="font-bold text-xl mb-2">Ho·∫°t ƒë·ªông ch√≠nh</h3>
                            <ul id="monthly-activities" class="space-y-3 list-disc list-inside text-gray-700"></ul>
                        </div>
                        <div>
                            <h3 class="font-bold text-xl mb-2 text-center">Ph√¢n b·ªï Ng√¢n s√°ch Th√°ng (<span id="monthly-budget-total"></span> VNƒê)</h3>
                            <div class="chart-container">
                                <canvas id="monthlyBudgetChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <hr class="my-16 border-gray-200">

            <section id="details" class="scroll-mt-24">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-[#0056b3]">3. Explorer Chi ti·∫øt Chi·∫øn d·ªãch</h2>
                    <p class="mt-2 text-gray-600">L·ªçc theo n·ªÅn t·∫£ng ƒë·ªÉ xem chi·∫øn l∆∞·ª£c nh·∫Øm m·ª•c ti√™u, n·ªôi dung v√† KPI c·ª• th·ªÉ.</p>
                </div>

                <div class="flex justify-center gap-2 mb-8 flex-wrap">
                    <button data-filter="all" class="filter-button text-sm font-semibold py-2 px-4 rounded-full border bg-white">T·∫•t c·∫£</button>
                    <button data-filter="Facebook" class="filter-button text-sm font-semibold py-2 px-4 rounded-full border bg-white">Facebook</button>
                    <button data-filter="TikTok" class="filter-button text-sm font-semibold py-2 px-4 rounded-full border bg-white">TikTok</button>
                    <button data-filter="Google Search" class="filter-button text-sm font-semibold py-2 px-4 rounded-full border bg-white">Google Search</button>
                    <button data-filter="YouTube Ads" class="filter-button text-sm font-semibold py-2 px-4 rounded-full border bg-white">YouTube Ads</button>
                    <button data-filter="Google Display" class="filter-button text-sm font-semibold py-2 px-4 rounded-full border bg-white">Google Display</button>
                </div>
                
                <div class="space-y-4">
                    <!-- Campaign details will be injected here by JS -->
                </div>
            </section>

            <hr class="my-16 border-gray-200">

            <section id="support" class="scroll-mt-24">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-[#0056b3]">4. H·ªó tr·ª£ H·ªá th·ªëng ƒê·∫°i l√Ω</h2>
                    <p class="mt-2 text-gray-600">X√¢y d·ª±ng h·ªá sinh th√°i ƒë·ªëi t√°c v·ªØng m·∫°nh th√¥ng qua c√°c s√°ng ki·∫øn s·ªë.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                        <div class="flex flex-col items-center">
                            <span class="text-5xl mb-3">üìÇ</span>
                            <h4 class="font-bold text-lg mb-1">Th∆∞ vi·ªán N·ªôi dung s·ªë</h4>
                            <p class="text-sm text-gray-600">Cung c·∫•p video, h√¨nh ·∫£nh, b√†i vi·∫øt ch·∫•t l∆∞·ª£ng cao v√† t√†i li·ªáu k·ªπ thu·∫≠t cho ƒë·∫°i l√Ω.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <span class="text-5xl mb-3">ü§ù</span>
                            <h4 class="font-bold text-lg mb-1">Co-op Marketing</h4>
                            <p class="text-sm text-gray-600">H·ªó tr·ª£ chi ph√≠ qu·∫£ng c√°o ƒë·ªãa ph∆∞∆°ng v√† t·ªï ch·ª©c s·ª± ki·ªán ƒë·ªÉ c√πng nhau ph√°t tri·ªÉn.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <span class="text-5xl mb-3">üí¨</span>
                            <h4 class="font-bold text-lg mb-1">K√™nh T∆∞∆°ng t√°c Chuy√™n bi·ªát</h4>
                            <p class="text-sm text-gray-600">T·∫°o nh√≥m k√≠n (Facebook) v√† playlist (YouTube) ƒë·ªÉ ƒë√†o t·∫°o, h·ªó tr·ª£ v√† k·∫øt n·ªëi ƒë·ªëi t√°c.</p>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <footer class="mt-16 pt-8 border-t border-gray-200 text-center text-sm text-gray-500">
            <p>Dashboard ƒë∆∞·ª£c t·∫°o d·ª±a tr√™n b√°o c√°o chi·∫øn l∆∞·ª£c c·ªßa Oceanlite.</p>
            <p>&copy; 2024 Oceanlite. All rights reserved.</p>
        </footer>
    </div>

    <script>
    const APP_DATA = {
        overallBudget: {
            labels: ['Facebook Ads (15M)', 'TikTok Ads (9M)', 'Google Ads (6M)'],
            data: [15000000, 9000000, 6000000]
        },
        competitors: {
            labels: ['TikTok Followers', 'YouTube Subscribers'],
            oceanlite: [0, 273],
            kosmos: [385200, 225000]
        },
        monthlyPlan: [
            {
                goal: 'Nh·∫≠n di·ªán & Ti·∫øp c·∫≠n',
                goalDesc: 'TƒÉng t·ªëi ƒëa l∆∞·ª£t ti·∫øp c·∫≠n, gi·ªõi thi·ªáu Oceanlite l√† gi·∫£i ph√°p thay th·∫ø k√≠nh hi·ªáu qu·∫£, an to√†n, v√† b·ªÅn b·ªâ.',
                budgetTotal: 10000000,
                budgetSplit: {
                    labels: ['Facebook', 'TikTok', 'Google Search', 'YouTube Ads'],
                    data: [5000000, 3000000, 1000000, 1000000]
                },
                activities: [
                    '<strong>Facebook:</strong> Ch·∫°y chi·∫øn d·ªãch "Ti·∫øp c·∫≠n" & "L∆∞·ª£t xem video" nh·∫Øm m·ª•c ti√™u r·ªông.',
                    '<strong>TikTok:</strong> Video ng·∫Øn b·∫Øt trend, gi·ªõi thi·ªáu nhanh s·∫£n ph·∫©m v√† ·ª©ng d·ª•ng.',
                    '<strong>Google Search:</strong> Ph·ªß s√≥ng t·ª´ kh√≥a r·ªông li√™n quan ƒë·∫øn s·∫£n ph·∫©m ("t·∫•m polycarbonate", "m√°i che").',
                    '<strong>YouTube Ads:</strong> Ch·∫°y qu·∫£ng c√°o In-stream ƒë·ªÉ tƒÉng nh·∫≠n di·ªán th∆∞∆°ng hi·ªáu.'
                ]
            },
            {
                goal: 'T∆∞∆°ng t√°c & Gi√°o d·ª•c',
                goalDesc: 'TƒÉng c∆∞·ªùng t∆∞∆°ng t√°c, gi√°o d·ª•c s√¢u h∆°n v·ªÅ s·∫£n ph·∫©m, v√† gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ c·ªßa kh√°ch h√†ng.',
                budgetTotal: 10000000,
                budgetSplit: {
                    labels: ['Facebook', 'TikTok', 'Google Search', 'YouTube Ads', 'Google Display'],
                    data: [5000000, 3000000, 800000, 700000, 500000]
                },
                activities: [
                    '<strong>Facebook:</strong> Chi·∫øn d·ªãch "T∆∞∆°ng t√°c" v·ªõi video h∆∞·ªõng d·∫´n DIY, th·ª≠ nghi·ªám; b·∫Øt ƒë·∫ßu chi·∫øn d·ªãch Lead-gen B2B.',
                    '<strong>TikTok:</strong> Video m·∫πo v·∫∑t, DIY v√† c√°c th·ª≠ th√°ch t∆∞∆°ng t√°c.',
                    '<strong>Google Search:</strong> T·∫≠p trung t·ª´ kh√≥a ch√≠nh x√°c h∆°n ("gi√° t·∫•m polycarbonate", "c√°ch thi c√¥ng").',
                    '<strong>YouTube Ads:</strong> Qu·∫£ng b√° video th·ª≠ nghi·ªám, so s√°nh ƒë·ªÉ tƒÉng ƒë·ªô tin c·∫≠y.',
                    '<strong>Google Display:</strong> B·∫Øt ƒë·∫ßu chi·∫øn d·ªãch Remarketing ƒë·ªÉ ti·∫øp c·∫≠n l·∫°i ng∆∞·ªùi ƒë√£ v√†o website.'
                ]
            },
            {
                goal: 'Chuy·ªÉn ƒë·ªïi & M·ªü r·ªông',
                goalDesc: 'Chuy·ªÉn ƒë·ªïi nh·∫≠n th·ª©c th√†nh h√†nh ƒë·ªông (mua h√†ng, y√™u c·∫ßu t∆∞ v·∫•n) v√† ƒë·∫©y m·∫°nh thu h√∫t ƒë·ªëi t√°c.',
                budgetTotal: 10000000,
                budgetSplit: {
                    labels: ['Facebook', 'TikTok', 'Google Search', 'YouTube Ads', 'Google Display'],
                    data: [5000000, 3000000, 700000, 600000, 700000]
                },
                activities: [
                    '<strong>Facebook:</strong> TƒÉng c∆∞·ªùng Lead-gen B2B, ch·∫°y qu·∫£ng c√°o "Chuy·ªÉn ƒë·ªïi" v·ªõi retargeting m·∫°nh.',
                    '<strong>TikTok:</strong> Th·ª≠ nghi·ªám qu·∫£ng c√°o "L∆∞u l∆∞·ª£ng truy c·∫≠p" v·ªõi CTA r√µ r√†ng.',
                    '<strong>Google Search:</strong> Nh·∫Øm t·ª´ kh√≥a d√†i, m·ª•c ti√™u B2B ("ch√≠nh s√°ch ƒë·∫°i l√Ω oceanlite", "b√°o gi√° t·∫•m l·ª£p").',
                    '<strong>YouTube Ads:</strong> S·ª≠ d·ª•ng TrueView for Action v·ªõi CTA th√∫c ƒë·∫©y truy c·∫≠p website.',
                    '<strong>Google Display:</strong> TƒÉng c∆∞·ªùng Remarketing v·ªõi ∆∞u ƒë√£i v√† CTA "Y√™u c·∫ßu b√°o gi√°".'
                ]
            }
        ],
        campaignDetails: [
            { platform: 'Facebook', title: 'Nh·∫≠n di·ªán & T∆∞∆°ng t√°c B2C', content: '<strong>ƒê·ªëi t∆∞·ª£ng:</strong> Ng∆∞·ªùi quan t√¢m x√¢y d·ª±ng, c·∫£i t·∫°o nh√†, DIY. <br><strong>N·ªôi dung:</strong> Video ng·∫Øn, h√¨nh ·∫£nh ƒë·∫πp, h∆∞·ªõng d·∫´n DIY, th·ª≠ nghi·ªám s·∫£n ph·∫©m. <br><strong>KPI:</strong> L∆∞·ª£t ti·∫øp c·∫≠n, L∆∞·ª£t xem video, T·ª∑ l·ªá t∆∞∆°ng t√°c.' },
            { platform: 'Facebook', title: 'Thu h√∫t kh√°ch h√†ng B2B', content: '<strong>ƒê·ªëi t∆∞·ª£ng:</strong> Ch·ªß c·ª≠a h√†ng VLXD, nh√† th·∫ßu, ki·∫øn tr√∫c s∆∞. <br><strong>N·ªôi dung:</strong> Ch√≠nh s√°ch ƒë·∫°i l√Ω, l·ª£i √≠ch h·ª£p t√°c, case study d·ª± √°n l·ªõn. <br><strong>KPI:</strong> S·ªë l∆∞·ª£ng lead B2B, T·ª∑ l·ªá chuy·ªÉn ƒë·ªïi.' },
            { platform: 'TikTok', title: 'Lan truy·ªÅn & X√¢y d·ª±ng c·ªông ƒë·ªìng', content: '<strong>ƒê·ªëi t∆∞·ª£ng:</strong> Ng∆∞·ªùi d√πng tr·∫ª, nƒÉng ƒë·ªông, th√≠ch DIY. <br><strong>N·ªôi dung:</strong> Video b·∫Øt trend, m·∫πo v·∫∑t, "before & after", th·ª≠ th√°ch s√°ng t·∫°o. <br><strong>KPI:</strong> L∆∞·ª£t xem video, Follower m·ªõi, L∆∞·ª£t t∆∞∆°ng t√°c.' },
            { platform: 'Google Search', title: 'Ph·ªß s√≥ng & Chuy·ªÉn ƒë·ªïi', content: '<strong>ƒê·ªëi t∆∞·ª£ng:</strong> Ng∆∞·ªùi ch·ªß ƒë·ªông t√¨m ki·∫øm gi·∫£i ph√°p l·ª£p m√°i, v·∫≠t li·ªáu. <br><strong>N·ªôi dung:</strong> Qu·∫£ng c√°o vƒÉn b·∫£n v·ªõi c√°c t·ª´ kh√≥a t·ª´ r·ªông ƒë·∫øn c·ª• th·ªÉ, t·∫≠p trung v√†o l·ª£i √≠ch (b·ªÅn, ch·ªëng UV) v√† h√†nh ƒë·ªông (b√°o gi√°, li√™n h·ªá). <br><strong>KPI:</strong> CTR, L∆∞·ª£t nh·∫•p, S·ªë l∆∞·ª£ng chuy·ªÉn ƒë·ªïi (ƒëƒÉng k√Ω, g·ªçi ƒëi·ªán).' },
            { platform: 'YouTube Ads', title: 'Gi√°o d·ª•c & X√¢y d·ª±ng Ni·ªÅm tin', content: '<strong>ƒê·ªëi t∆∞·ª£ng:</strong> Ng∆∞·ªùi t√¨m ki·∫øm video h∆∞·ªõng d·∫´n, so s√°nh s·∫£n ph·∫©m. <br><strong>N·ªôi dung:</strong> Video gi·ªõi thi·ªáu, h∆∞·ªõng d·∫´n l·∫Øp ƒë·∫∑t, th·ª≠ nghi·ªám ƒë·ªô b·ªÅn, case study d·ª± √°n. <br><strong>KPI:</strong> L∆∞·ª£t xem video, T·ª∑ l·ªá xem (VTR), Th·ªùi gian xem trung b√¨nh.' },
            { platform: 'Google Display', title: 'Ti·∫øp th·ªã l·∫°i (Remarketing)', content: '<strong>ƒê·ªëi t∆∞·ª£ng:</strong> Ng∆∞·ªùi ƒë√£ truy c·∫≠p website Oceanlite. <br><strong>N·ªôi dung:</strong> Banner qu·∫£ng c√°o h√¨nh ·∫£nh s·∫£n ph·∫©m, nh·∫Øc nh·ªü v·ªÅ th∆∞∆°ng hi·ªáu v√† c√°c ∆∞u ƒë√£i. <br><strong>KPI:</strong> L∆∞·ª£t hi·ªÉn th·ªã, L∆∞·ª£t nh·∫•p, T·ª∑ l·ªá chuy·ªÉn ƒë·ªïi.' }
        ]
    };
    
    document.addEventListener('DOMContentLoaded', () => {
        const themeColors = { primary: '#0056b3', accent: '#007BFF', text: '#343A40', grid: '#E9ECEF', facebook: '#1877F2', tiktok: '#000000', google: '#4285F4', youtube: '#FF0000', display: '#FBBC05' };
        let monthlyBudgetChartInstance;

        const formatCurrency = (value) => new Intl.NumberFormat('vi-VN').format(value);

        function initOverallBudgetChart() {
            const ctx = document.getElementById('overallBudgetChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: APP_DATA.overallBudget.labels,
                    datasets: [{
                        data: APP_DATA.overallBudget.data,
                        backgroundColor: [themeColors.facebook, themeColors.tiktok, themeColors.google],
                        borderColor: '#F8F9FA',
                        borderWidth: 4
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { padding: 20 } },
                        tooltip: { callbacks: { label: (context) => `${context.label}: ${formatCurrency(context.raw)} VNƒê` } }
                    }
                }
            });
        }
        
        function initCompetitorChart() {
            const ctx = document.getElementById('competitorChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: APP_DATA.competitors.labels,
                    datasets: [
                        { label: 'Oceanlite', data: APP_DATA.competitors.oceanlite, backgroundColor: themeColors.accent, borderRadius: 4 },
                        { label: 'Kosmos', data: APP_DATA.competitors.kosmos, backgroundColor: themeColors.primary, borderRadius: 4 }
                    ]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true, ticks: { callback: (value) => (value >= 1000 ? (value / 1000) + 'K' : value) } } },
                    plugins: { legend: { position: 'top' }, tooltip: { callbacks: { label: (context) => `${context.dataset.label}: ${formatCurrency(context.raw)}` } } }
                }
            });
        }
        
        function updateMonthlyView(monthIndex) {
            const plan = APP_DATA.monthlyPlan[monthIndex];
            
            document.getElementById('monthly-goal').textContent = plan.goal;
            document.getElementById('monthly-goal-desc').textContent = plan.goalDesc;
            document.getElementById('monthly-budget-total').textContent = formatCurrency(plan.budgetTotal);
            
            const activitiesList = document.getElementById('monthly-activities');
            activitiesList.innerHTML = '';
            plan.activities.forEach(act => {
                const li = document.createElement('li');
                li.innerHTML = act;
                activitiesList.appendChild(li);
            });
            
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach((btn, index) => {
                btn.classList.toggle('active', index === monthIndex);
            });
            
            updateMonthlyBudgetChart(plan.budgetSplit);
        }
        
        function updateMonthlyBudgetChart(data) {
            if (monthlyBudgetChartInstance) {
                monthlyBudgetChartInstance.destroy();
            }
            const ctx = document.getElementById('monthlyBudgetChart').getContext('2d');
            const colors = data.labels.map(label => {
                if (label.includes('Facebook')) return themeColors.facebook;
                if (label.includes('TikTok')) return themeColors.tiktok;
                if (label.includes('Google Search')) return themeColors.google;
                if (label.includes('YouTube')) return themeColors.youtube;
                if (label.includes('Google Display')) return themeColors.display;
                return themeColors.accent;
            });

            monthlyBudgetChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: 'Ng√¢n s√°ch',
                        data: data.data,
                        backgroundColor: colors,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false, indexAxis: 'y',
                    scales: { x: { ticks: { callback: (value) => formatCurrency(value/1000000) + 'M' } } },
                    plugins: { legend: { display: false }, tooltip: { callbacks: { label: (context) => ` ${formatCurrency(context.raw)} VNƒê` } } }
                }
            });
        }
        
        function setupCampaignExplorer() {
            const container = document.querySelector('#details .space-y-4');
            container.innerHTML = '';
            APP_DATA.campaignDetails.forEach(detail => {
                const card = document.createElement('div');
                card.className = 'details-card bg-white p-6 rounded-xl shadow-md';
                card.dataset.platform = detail.platform;
                card.innerHTML = `
                    <h4 class="font-bold text-lg text-[#007BFF]">${detail.title}</h4>
                    <p class="mt-2 text-gray-700">${detail.content}</p>
                `;
                container.appendChild(card);
            });
        
            const filterButtons = document.querySelectorAll('.filter-button');
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const filter = button.dataset.filter;
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
        
                    document.querySelectorAll('.details-card').forEach(card => {
                        if (filter === 'all' || card.dataset.platform === filter) {
                            card.classList.add('active');
                        } else {
                            card.classList.remove('active');
                        }
                    });
                });
            });
            // Initial filter
            document.querySelector('.filter-button[data-filter="all"]').click();
        }

        function setupNavScroll() {
            const links = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        links.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: "-30% 0px -70% 0px" });

            sections.forEach(section => observer.observe(section));
        }

        // --- Init ---
        initOverallBudgetChart();
        initCompetitorChart();
        
        document.getElementById('btn-month-0').addEventListener('click', () => updateMonthlyView(0));
        document.getElementById('btn-month-1').addEventListener('click', () => updateMonthlyView(1));
        document.getElementById('btn-month-2').addEventListener('click', () => updateMonthlyView(2));
        
        setupCampaignExplorer();
        setupNavScroll();

        // Initial view
        updateMonthlyView(0);
    });
    </script>
</body>
</html>
